import * as React from 'react'

import {isUndefined} from 'lodash-es'

import DocSidebar from './DocSidebar';
import TopLevelNav from './TopLevelNav';




class Frame extends React.Component<any, any> {
  constructor(props) {
    super(props);
    this.state = {
      showSubmenu: true
    };
  }
  
  handleToggleMenu = show => {
    const { showSubmenu } = this.state;
    this.setState({showSubmenu: isUndefined(show) ? !showSubmenu : show});
  };

  render() {
    const { showSubmenu } = this.state;
    const menuStyles = {width: showSubmenu ? 260 : 0};
    const contextStyle = {marginLeft: showSubmenu ? 324 : 80};

    return (
      <div>
        <TopLevelNav showSubmenu={showSubmenu} onToggleMenu={this.handleToggleMenu} />
        <DocSidebar style={menuStyles} />
        <div className="page-context" style={contextStyle}>
          {this.props.children}
        </div>
      </div>
    );
  }
}

export default Frame;