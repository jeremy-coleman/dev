module.exports = { contents: "\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst tslib_1 = require(\"tslib\");\r\nvar _a;\r\nconst React = require(\"react\");\r\nconst mobx_1 = require(\"mobx\");\r\nconst mobx_react_1 = require(\"mobx-react\");\r\nlet injectSheet = require('react-jss').default;\r\nconst style_1 = require(\"../../style\");\r\nconst translation_service_1 = require(\"../../services/translation-service\");\r\nconst react_select_1 = require(\"react-select\");\r\nconst centered_content_1 = require(\"../../util/centered-content\");\r\nconst jssStyles = (theme) => {\r\n    let section = style_1.sectionStyles(theme);\r\n    return Object.assign({\r\n        label: {\r\n            composes: 'pure-u-1-4 text-right',\r\n            paddingRight: '5px'\r\n        },\r\n        selectInput: {\r\n            composes: theme.ide ? 'text-color' : ''\r\n        },\r\n        inputsDiv: {\r\n            '& .Select-arrow-zone': {\r\n                display: 'none'\r\n            }\r\n        }\r\n    }, section);\r\n};\r\nlet StepWorkflowVariables = class StepWorkflowVariables extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.promptTextCreator = (label) => {\r\n            return translation_service_1.translate('LABEL_VARIABLE_PROMPT', label);\r\n        };\r\n        this.props.step.includeVariables = this.props.step.includeVariables || [];\r\n        this.props.step.excludeVariables = this.props.step.excludeVariables || [];\r\n    }\r\n    get includeVariables() {\r\n        return this.props.step.includeVariables;\r\n    }\r\n    get excludeVariables() {\r\n        return this.props.step.excludeVariables;\r\n    }\r\n    add(variables, arrayName) {\r\n        if (variables) {\r\n            let newVars = [];\r\n            for (let i = 0; i < variables.length; i++) {\r\n                newVars.push(variables[i].value);\r\n            }\r\n            this.props.step[arrayName] = newVars;\r\n            if (arrayName === 'includeVariables') {\r\n                this.props.step.transient.explicitIncludeVariables = true;\r\n            }\r\n            else {\r\n                this.props.step.transient.explicitExcludeVariables = true;\r\n            }\r\n        }\r\n    }\r\n    shouldKeyDownEventCreateNewOption(arg) {\r\n        return arg.keyCode === 32 || arg.keyCode === 9 || arg.keyCode === 13 || arg.keyCode === 188;\r\n    }\r\n    render() {\r\n        let classes = this.props.classes || {};\r\n        let includeVariablesArray = [];\r\n        let excludeVariablesArray = [];\r\n        this.includeVariables.forEach(variable => includeVariablesArray.push({ label: variable, value: variable }));\r\n        this.excludeVariables.forEach(variable => excludeVariablesArray.push({ label: variable, value: variable }));\r\n        return (React.createElement(\"div\", { className: [classes.section, classes.inputsDiv].join(' ') },\r\n            React.createElement(\"div\", { className: classes.sectionTitle }, translation_service_1.translate('TITLE_WORKFLOW_VARIABLES')),\r\n            React.createElement(\"div\", { className: classes.sectionBody },\r\n                React.createElement(\"div\", { className: \"pure-g block\" },\r\n                    React.createElement(\"label\", { className: this.props.classes.label },\r\n                        React.createElement(centered_content_1.CenteredContent, null,\r\n                            React.createElement(\"span\", null,\r\n                                translation_service_1.translate('LABEL_INCLUDE_VARIABLES'),\r\n                                \":\"))),\r\n                    React.createElement(\"div\", { className: \"pure-u-3-4\" },\r\n                        React.createElement(react_select_1.Creatable, { className: `${style_1.editorStyles.normalSelect} native-key-bindings`, inputProps: { className: this.props.classes.selectInput }, shouldKeyDownEventCreateNewOption: this.shouldKeyDownEventCreateNewOption, multi: true, clearable: true, placeholder: translation_service_1.translate('PLACEHOLDER_VARIABLES'), noResultsText: translation_service_1.translate('INSTRUCTION_INCLUDE_VARIABLES'), promptTextCreator: this.promptTextCreator, value: includeVariablesArray, onChange: p => this.add(p, 'includeVariables') }))),\r\n                React.createElement(\"div\", { className: \"pure-g block\" },\r\n                    React.createElement(\"label\", { className: this.props.classes.label },\r\n                        React.createElement(centered_content_1.CenteredContent, null,\r\n                            React.createElement(\"span\", null,\r\n                                translation_service_1.translate('LABEL_EXCLUDE_VARIABLES'),\r\n                                \":\"))),\r\n                    React.createElement(\"div\", { className: \"pure-u-3-4\" },\r\n                        React.createElement(react_select_1.Creatable, { className: `${style_1.editorStyles.normalSelect} native-key-bindings`, inputProps: { className: this.props.classes.selectInput }, shouldKeyDownEventCreateNewOption: this.shouldKeyDownEventCreateNewOption, multi: true, clearable: true, placeholder: translation_service_1.translate('PLACEHOLDER_VARIABLES'), noResultsText: translation_service_1.translate('INSTRUCTION_EXCLUDE_VARIABLES'), promptTextCreator: this.promptTextCreator, value: excludeVariablesArray, onChange: p => this.add(p, 'excludeVariables') }))))));\r\n    }\r\n};\r\ntslib_1.__decorate([\r\n    mobx_1.action,\r\n    tslib_1.__metadata(\"design:type\", Function),\r\n    tslib_1.__metadata(\"design:paramtypes\", [typeof (_a = typeof react_select_1.Option !== \"undefined\" && react_select_1.Option) === \"function\" ? _a : Object, String]),\r\n    tslib_1.__metadata(\"design:returntype\", void 0)\r\n], StepWorkflowVariables.prototype, \"add\", null);\r\nStepWorkflowVariables = tslib_1.__decorate([\r\n    injectSheet(jssStyles),\r\n    mobx_react_1.observer,\r\n    tslib_1.__metadata(\"design:paramtypes\", [Object])\r\n], StepWorkflowVariables);\r\nexports.StepWorkflowVariables = StepWorkflowVariables;\r\n",
dependencies: ["tslib","react","mobx","mobx-react","react-jss","../../style","../../services/translation-service","react-select","../../util/centered-content"],
sourceMap: {},
headerContent: undefined,
mtime: 1535400689950,
devLibsRequired : undefined,
ac : undefined,
_ : {}
}
